https://www.hl7.org/fhir/observation.html#notes

- [10.1.4 注釈:](#1014-%E6%B3%A8%E9%87%88)
	- [10.1.4.1 検査のプロファイリング](#10141-%E6%A4%9C%E6%9F%BB%E3%81%AE%E3%83%97%E3%83%AD%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AA%E3%83%B3%E3%82%B0)
	- [10.1.4.2 検査の対象](#10142-%E6%A4%9C%E6%9F%BB%E3%81%AE%E5%AF%BE%E8%B1%A1)
	- [10.1.4.3 検査のグループ分け](#10143-%E6%A4%9C%E6%9F%BB%E3%81%AE%E3%82%B0%E3%83%AB%E3%83%BC%E3%83%97%E5%88%86%E3%81%91)
		- [10.1.4.3.1 検査報告書.結果](#101431-%E6%A4%9C%E6%9F%BB%E5%A0%B1%E5%91%8A%E6%9B%B8%E7%B5%90%E6%9E%9C)
		- [10.1.4.3.2 検査.要素](#101432-%E6%A4%9C%E6%9F%BB%E8%A6%81%E7%B4%A0)
		- [10.1.4.3.3 検査.保持メンバ および 検査.派生元](#101433-%E6%A4%9C%E6%9F%BB%E4%BF%9D%E6%8C%81%E3%83%A1%E3%83%B3%E3%83%90-%E3%81%8A%E3%82%88%E3%81%B3-%E6%A4%9C%E6%9F%BB%E6%B4%BE%E7%94%9F%E5%85%83)
	- [10.1.4.4 検査におけるコード利用](#10144-%E6%A4%9C%E6%9F%BB%E3%81%AB%E3%81%8A%E3%81%91%E3%82%8B%E3%82%B3%E3%83%BC%E3%83%89%E5%88%A9%E7%94%A8)
		- [10.1.4.4.1 多重コーディング](#101441-%E5%A4%9A%E9%87%8D%E3%82%B3%E3%83%BC%E3%83%87%E3%82%A3%E3%83%B3%E3%82%B0)
		- [10.1.4.4.2 コーディング結果のためのテキスト値:](#101442-%E3%82%B3%E3%83%BC%E3%83%87%E3%82%A3%E3%83%B3%E3%82%B0%E7%B5%90%E6%9E%9C%E3%81%AE%E3%81%9F%E3%82%81%E3%81%AE%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%E5%80%A4)
		- [10.1.4.4.3 FHIRにおけるコード値の組み合わせを用いた相互運用性の課題](#101443-FHIR%E3%81%AB%E3%81%8A%E3%81%91%E3%82%8B%E3%82%B3%E3%83%BC%E3%83%89%E5%80%A4%E3%81%AE%E7%B5%84%E3%81%BF%E5%90%88%E3%82%8F%E3%81%9B%E3%82%92%E7%94%A8%E3%81%84%E3%81%9F%E7%9B%B8%E4%BA%92%E9%81%8B%E7%94%A8%E6%80%A7%E3%81%AE%E8%AA%B2%E9%A1%8C)
		- [10.1.4.4.4 ガイダンス:](#101444-%E3%82%AC%E3%82%A4%E3%83%80%E3%83%B3%E3%82%B9)
	- [10.1.4.5 追加コードやObservations によるObservationの解釈の洗練](#10145-%E8%BF%BD%E5%8A%A0%E3%82%B3%E3%83%BC%E3%83%89%E3%82%84Observations-%E3%81%AB%E3%82%88%E3%82%8BObservation%E3%81%AE%E8%A7%A3%E9%87%88%E3%81%AE%E6%B4%97%E7%B7%B4)
	- [10.1.4.6 値とデータ型](#10146-%E5%80%A4%E3%81%A8%E3%83%87%E3%83%BC%E3%82%BF%E5%9E%8B)
	- [10.1.4.7 観察における生理学的に重要な時間](#10147-%E8%A6%B3%E5%AF%9F%E3%81%AB%E3%81%8A%E3%81%91%E3%82%8B%E7%94%9F%E7%90%86%E5%AD%A6%E7%9A%84%E3%81%AB%E9%87%8D%E8%A6%81%E3%81%AA%E6%99%82%E9%96%93)
	- [10.1.4.8 参照範囲](#10148-%E5%8F%82%E7%85%A7%E7%AF%84%E5%9B%B2)
	- [10.1.4.9 キャンセルまたは中止された観察](#10149-%E3%82%AD%E3%83%A3%E3%83%B3%E3%82%BB%E3%83%AB%E3%81%BE%E3%81%9F%E3%81%AF%E4%B8%AD%E6%AD%A2%E3%81%95%E3%82%8C%E3%81%9F%E8%A6%B3%E5%AF%9F)
	- [10.1.4.10 遺伝情報についての観察](#101410-%E9%81%BA%E4%BC%9D%E6%83%85%E5%A0%B1%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6%E3%81%AE%E8%A6%B3%E5%AF%9F)

-------
# 10.1.4 注釈:
## 10.1.4.1 検査のプロファイリング 
最も単純な場合、リソースインスタンスはコード、値、および状態フラグだけで構成できます。他のプロパティの関連性は、検査の種類によって異なります。プロファイルは、与えられた事例に対する特定の種類の検査を記録する際の指針を提供するために作成されます。検査リソースは、大多数のシステムで記録された詳細さの度合いに焦点を当てています。ただし、特定の事例では、特定の状況に関連する追加の制約と追加の情​​報がある場合があります。こうした複雑さを追加で取り込めるように、他のリソースと同様、拡張機能が利用できます。

## 10.1.4.2 検査の対象
通常、対象（患者もしくは患者グループ、場所、もしくは機器）に対して検査が行われ、その検査のために直接計測されたものと対象との間の区別は、検査コード（例えば、血糖）によって特定され、別々に表現する必要はありません。ただし、対象そのものでない場合、検査の焦点を表現するために3つの属性を使用できます。`specimen`(検体)および`bodySite`（検査対応部位）の要素は、対象のサンプルもしくは解剖学的・形態学的な位置の測定値の表現に利用され、患者に埋め込まれた機器や別の検査などの注意点に相当するような対象の特定の観点に焦点を当てて表現しています。

## 10.1.4.3 検査のグループ分け 
多くの検査は、他の検査と重要な関係性を持っているため、グループ化する必要があります。
例えば、構造は以下のように定義されます：検査報告書と`DiagnosticReport.result`（検査報告書.結果）。検査の要素については以下のように定義されます：`Observation.component`（検査.要素）、 `Observation.hasMember`（検査.保持メンバ）、`Observation.derivedFrom`（検査.派生元）。以下の節では、使用される構造に関しての指針について述べます。何をグループ化するのかという考え方は、しばしば文脈に高く依存しており、エンドユーザーの視点にも基づくため、使用する構造の選択は、権限や組織的な訓練、文脈などによって決めるべきです。通常、プロファイリングは実装に必要になるでしょう。

### 10.1.4.3.1 検査報告書.結果
検査報告書は順序（サービス要求）に直接関連しています。`DiagnosticReport.code`（検査報告書.コード）はパネルに名前を付け、グループ化要素として機能します。従来、これは臨床検査において"パネル"や"バッテリー"と呼ばれていたものです。`DiagnosticReport.result`（検査報告書.結果）の要素は、個々の検査を参照します。いくつかの例では、検査報告書を使った検査のグループ化をグループ化の構造として示しています。

### 10.1.4.3.2 検査.要素 
`Observation.component`（検査.要素）は、１要素の検査の範囲を超えて使われたり、合理的には解釈できないような結果をサポートするために使われます。
検査の要素は、個別かつ分けられた検査の一部分から構成されるか、`Observation.code`に対して適切な情報を提供します。また、`Observation.code`に関して唯一、理解を与えるものとなるでしょう（例えば、`$stats`操作を参照）。従って、正しく検査の意味を理解するためには、**すべての** コード値と要素.コード要素.値の組み合わせを考慮する必要があります。要素は、一つの手法、一つの検査、一人の検査実施者、一つの装置、および1回しかない場合のみ使用するべきです。この構造を使ったいくつかの事例は下記を含みます：

1. 一般的に生成され、一緒に解釈される検査。たとえば、収縮期および拡張期の血圧は、単一の血圧パネルとして表現。
2. 一般的に一緒に生成および解釈される評価ツールの結果。たとえば、5つの要素を持つ単一の検査である新生児のアプガー指数。
3. 質問に対する複数の回答の表現（検査と質問/回答の関係と境界）。たとえば、患者が飲んだアルコールの種類の報告。

一方で、別の検査の構成要素であるという文脈から外れた臨床的に関連する検査は、個別の検査リソースで表されるべきです。例えば、ボディマス指数（BMI）検査は、身長と体重は臨床的に関連した検査であるから、これらを要素に含むべきでは*ありません*。個別の検査リソースとして表現するべきです。どのように独立した検査を関連付けるか、後述する節を参照してください。

### 10.1.4.3.3 検査.保持メンバ および 検査.派生元
`Observation.hasMember`（検査.保持メンバ）と `Observation.derivedFrom`（検査.派生元）、および中核となる拡張機能であるObservation-sequelTo（検査-続編） と Observation-replaces（検査-置換）は、手法、検査、実施者、機器、時間、エラー状態に対して1つ以上の異なる値を持った結果や、それ自体の使用や解釈した結果をサポートするために利用されます。この構造を用いる2つの共通事例は以下の通りです:

1. "パネル"や"バッテリー"などに対する検査に関連したグループ分けについて。この事例では、`Observation.code`（検査.コード）は、"パネル"コードを表します。典型的には、`Observation.value[x]`（検査.値[x]）は存在せず、検査メンバのセットが`Observation.hasMember`（検査.保持メンバ）に一覧されます。この構造は、検査報告書（例えば、複雑なマイクロ分離と感受性検査報告）と共に利用される場合には、入れ子になったグループ分けを許可します。

2. ある検査が派生して他の検査と関連付ける場合、`Observation.code`（検査.コード） と `Observation.value[x]`（検査.値[x]）の両方とも存在し、関連付けられた検査は`Observation.derivedFrom`（検査.派生元）に一覧されます。この一例として、身長と体重の計測値が参照されるボディマス指数（BMI）検査があります。

## 10.1.4.4 検査におけるコード利用
結果の値をコードを用いて事前定義された概念で表現するとき、`valueCodeableConcept`（値コーディング可能概念）が使われます。この要素は、SNOMED CTなどの標準的な命名法または元システム（"ローカル"）でコード化された結果値で構成される値セットにバインドされます。

### 10.1.4.4.1 多重コーディング 
結果は、異なるコードシステムに基づいて複数の値セットでコーディングでき、概念マップリソースを使用してマッピングしたり、下の例に示すように要素に直接追加のコーディングとして指定したりできます。
例えば、LOINC 43304-5（*プローブおよびターゲット増幅法による不特定検体中のクラミジア･トラコマチスrRNA [存在]*
）は、典型的にコード化された存在/不在の概念と関連付けられます。
標準コード変換を用いて'陰性'をコード化した値を利用して、`valueCodeableConcept`（値コーディング可能概念）は以下のように表現されます：

```
	"valueCodeableConcept": {
		"coding": [
			{
				"system": "http://snomed.info/sct",
				"code": "260385009",
				"display": "陰性"
			}, {
				"system": "https://acme.lab/resultcodes",
				"code": "NEG",
				"display": "陰性"
			}
		],
		"text": "クラミジア・トラコマチスrRNA は陰性"
	}
```

### 10.1.4.4.2 コーディング結果のためのテキスト値: 
データ要素が通常通りコード化される時や、`code`（コード）要素と関連付けられた型がコードの値を定義する際、適切なコードがなく、フリーテキストのみが利用できる場合であっても`valueCodeableConcept`（値コーディング可能概念）を使用します。例えば、テキストだけ使うと、`valueCodeableConcept`（値コーディング可能概念）要素は以下のようになります：

```
	"valueCodeableConcept": {
		"text": "コード化不可のフリーテキスト結果"
	}
```
コード化された回答リストに"その他"の概念コードが含まれ、概念のフリーテキスト記述がある場合、情報源の完全な意味を取り込むため `valueCodeableConcept.text`（値コーディング可能概念.テキスト）要素を使用するべきです。以下の例では、回答コード"その他"は、`valueCodeableConcept`（値コーディング可能概念）要素の中で提供され、`valueCodeableConcept.text`（値コーディング可能概念.テキスト）要素の中で提供される値がテキスト値となります。

```
{
	"resourceType": "検査",
	... 中略 ...
	"code": {
		"coding": [
			{
				"system": "http://loinc.org",
				"code": "74076-1",
				"display": "関与する薬物または物質"
			}
		]
	},
	.. 中略 ...
	"valueCodeableConcept": {
		"coding": [
			{
				"system": "http://loinc.org",
				"code": " LA20343-2",
				"display": "その他の物質: 明記して下さい"
			}
		],
		"text": "その他: ソファの下で見つけた青い錠剤"
	}
	.. 中略 ...
}
```

### 10.1.4.4.3 FHIRにおけるコード値の組み合わせを用いた相互運用性の課題 
多くの検査イベントに対して（特定パターンかどうかに関わらず）繰り返し発生する課題は、検査.コードと検査.値を追加する方法を決める時に起こります。このことは臨床検査においてはごく簡単なことですが、所見や疾患、家族歴などのその他の種類の検査にて曖昧性を生じます。この議論は、そのようなステートメントのコード化された表現が `Observation.code`（検査.コード）および` Observation.value`（検査.値）要素を使用して表現される方法に焦点を当てています。

FHIRの検査の中心となる2つの異なる側面があります：

- プロパティが検査された所見および/またはプロパティを作成するために実行されたアクション。例：血中ヘモグロビンの測定。
- 検査の結果。例：14 g/dl。

`Observation.code`と`Observation.value`異なる組み合わせを使用して、同じ情報を表すいくつかの異なる方法が存在します。代替手段の制約のない使用は、意味的等価性の計算と、さまざまなアプリケーションおよびユーザーからの検査に対する安全な解釈が大きな課題です。次の4つのパターンは、同じケースを合理的に表すことができます。 検査リソースは多くのユースケースをサポートする必要があることを考慮すると、特定のパターンを定義する適切な場所は、FHIRを実装する権限および/または組織によって指定されたプロファイルおよび実装ガイドを通じて行われることが期待されます。:

1. `Observation.code` は、検査の性質を表現しており、`Observation.value` は数値以外の結果値を表しています。これらは、FHIR検査の中心となる2つの異なる側面となっています。例:
   - code=[検査]
   - value=[腹部圧痛]
2. `Observation.code`は上記1.とほぼ同じですが、粒度のレベルは値からコードに移行されます。 例:
   - code=[腹部検査]
   - value=[圧痛]
3. `Observation.code`は、検査アクションを指定しない方法でも表現されますが、上記の項目のように、単一の名前（または用語）にまとめられた検出結果に関するステートメントを示します。 この例では、`Observation.value`が存在し、通常それを確認または否決する結果を「修飾」します。例:
   - code=[腹部圧痛]
   - value=[確認/陽性]
4. この例では、`Observation.code`は、検査アクションを指定しない方法で表現されていますが、単一の名前（または用語）にまとめられた検出結果に関するステートメントを示しています。 この文脈における特定の例では、`Observation.value`は省略されています。例：
   - code=[腹部圧痛]
   - 値要素は省略

### 10.1.4.4.4 ガイダンス: 
1. ケース 1 と 2の推奨ルール:
   - The Observation.code はLOINC概念コードであることが望ましい。
     - もしSNOMED CT 概念コードを使用する場合、363787002 (観察できる実体Observable entity(Observable entity))か386053000(評価手順Evaluation procedure(evaluation procedure))を表す必要があります（SHOULD）。
   - 数値以外の場合、Observation.value はSNOMED CT概念コードであることが望ましい。
2. ケース3の推奨ルール:
    - Observation.value はLOINCまたはSNOMED CT概念コードであることが望ましい。
        - もしSNOMED CT 概念コードを使用する場合、404684003 (臨床所見Clinical finding (finding))、413350009 (明示的な文脈における所見Finding with explicit context(finding))、または272379006 (イベントEvent(event))を表す必要があります（SHOULD）。
    - Observation.value は以下のどちらかによって表されます。
        - ブール値 valueBoolean
        - コード化可能な概念の値valueCodeableConceptはできれば以下を利用:
            - SNOMED CTの362981000 (修飾子Qualifier value (qualifiervalue))の下位概念
            - HL7 v2 の Y/N Indicator
            - HL7 v2 の拡張 Y/N Indicator (unfortunately is missing 'not given')
3. ケース4の推奨ルール:
    - Observation.code がSNOMED CTの404684003 (臨床所見Clinical finding (finding))、413350009(明示的な文脈における所見Finding with explicit context(finding))または272379006 (イベントEvent(event))の下位概念。
    - Observation.value は省略されます。デフォルトの解釈は、Observation.codeで表される概念(単一コードまたは表現)が患者に存在することです。'臨床所見clinical-finding'のObservation.dataAbsentReason値は予期される値が欠落している理由を指し示している必要があります（SHOULD）。
4. HL7 Version 3 Implementation Guide: TermInfo - Using SNOMED CT in CDA R2 Models, Release 1 で説明されているアサーションパターンは使用してはなりません（SHOULD NOT）。

## 10.1.4.5 追加コードやObservations によるObservationの解釈の洗練 
次のリストは、コードの使用または他の複数の観察によって、観察の解釈が変更される可能性がある追加文脈を付与するためのガイドです。:

1. 可能であれば最も専用のコードを使用します。

例：

```
{
"resourceType": "Observation",
... snip ...
"code": {
	"coding": [
		{
			"system": "http://loinc.org",
			"code": "6689-4",
			"display": "血糖値[質量/体積]--食後2時間値"
		}
	]
},
... snip ...
}
```

2. または上記のようにObservation.code で追加のコードを使用します。
 
例.: Observation.code = coding-1: 59408-5 パルスオキシメータによる動脈血酸素飽和度, coding-2: 20564-1 血中酸素飽和度

```
{
"resourceType": "Observation",
... snip ...
"code": {
	"coding": [
		{
			"system": "http://loinc.org",
			"code": "59408-5",
			"display": "パルスオキシメータによる動脈血酸素飽和度"
		},
		{
			"system": "http://loinc.org",
			"code": "20564-1",
			"display": "血中酸素飽和度"
		}
	]
},
... snip ...
}
```

3. 上述のようにグループ化された複数の観察は、観察を正しく理解・解釈するために必要な追加情報を与える。観察をグループ化する代わりに拡張機能を使用することで、観察の理解・解釈に必要な他の観察の参照先にできます。

Note:この目的のために既存の Observation Extensionsを評価するため、実装者コミュニティからの意見を求めています。フィードバックはこちら。

## 10.1.4.6 値とデータ型
- Observation.value [x]要素には、次のように型に応じた変数名があります。:
  - 量
  - コード化できる概念
  - 文字列
  - ブール値
  - 整数値
  - 範囲
  - 割合
  - 標本データ
  - 時刻
  - 日時
  - 期間

- 結果へのコードの利用の章参照
- ほとんどの観察結果値は「不明」などの例外のために真のブール値にならないため、ブール型はめったに使用されません。従って代わりにCodeableConceptデータ型を使用し、http://terminology.hl7.org/ValueSet/v2-0136 からコードを選択する必要があります（これら「はい/いいえ」の概念は、表示名「true / false」または必要に応じて他の相互に排他的な用語にマッピング可能）。
- SampledDataデータ型には、特別な値「E」（エラー）、「L」（検出限界未満）、「U」（検出限界超え）が使用できます。しかし、検出限界値超えと未満の範囲の観察でvalueQuantityを使用する場合は、比較基準と共に限界値を指定してvalueQuantityを使用する必要があります。さらにエラーが発生した場合、dataAbsentReason要素に適切な値（「エラー」または「NaN」）を使用する必要があります。たとえば、値が<2.0 mmol / Lの検出下限を下回った場合、`valueQuantity`は次のようになります:
```
	"valueQuantity": {
		"value": 2.0,
		"comparator": "<",
		"unit": "mmol/l",
		"system": "http://unitsofmeasure.org",
		"code": "mmol/L"
	}
```
もし値が「NaN」（エラー）の場合、`valueCodeableConcept`要素は存在せず。`dataAbsentReason element`は次のようになります。
```
	"dataAbsentReason": {
		"coding": [
			{
				"system": "http://terminology.hl7.org/CodeSystem/data-absent-reason",
				"code": "NaN",
				"display": "数値ではありません"
			}
		]
	}
```
- 値要素には複数の型が許可されているため、複数の値検索パラメータが定義されています。Ratio型の値を検索するための標準パラメータはありません。

## 10.1.4.7 観察における生理学的に重要な時間
effectiveDateTimeとeffectivePeriodは、対象の観察に最も関連する時間です。 生物学的対象（例：人間の患者）の場合、生理学的に観察に関連する時間です。標本の観察の場合、標本収集の開始と終了を表します（24時間尿中ナトリウム等）が、収集時間が十分に短い場合は１点の時刻を指します（例：通常の静脈穿刺）。対象者から直接得た観察の場合（例：血圧、胸部X線）、観察プロセスの開始時間と終了時間で、こちらも多くの場合１点の時刻を指します。

## 10.1.4.8 参照範囲
最も一般的な観察には普遍的な参照範囲が1個だけ含まれます。参照範囲は、臨床検査や他の収縮期血圧のような観察には有用かもしれませんが、「妊娠」のようなものにはほとんど関係ありません。システムは患者に関する知識（例：患者固有の年齢・性別・体重・その他要因）に基づいて関連する参照範囲のみに制限できます（MAY）が、それは不可能か不適切な場合があります。複数の参照範囲があるときは常に、参照範囲および/または年齢属性で違いが分かるようにしなければなりません（SHOULD）。

## 10.1.4.9 キャンセルまたは中止された観察
観察や検査を完了できなかった場合（例えば検体が不十分とか、医療者がオーダをキャンセルしたとか）、ステータスをキャンセルに更新し、具体的な詳細を、できればコード化された値としてdataAbsentReasonかvalueCodeableConcept要素に設定します。'note'要素にも同様に追加情報が付与される場合があります。検体拒否の例は、不十分な検体という意味のコード化された値のdataAbsentReasonへの設定する事を示します。

## 10.1.4.10 遺伝情報についての観察
遺伝情報の報告には、DiagnosticReport とObservation resourcesを主に使用します。遺伝情報に関する結果の記述についての実装ガイドはこちら。
