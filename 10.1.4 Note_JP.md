https://www.hl7.org/fhir/observation.html#notes

- [10.1.4 注釈:](#1014-%e6%b3%a8%e9%87%88)
	- [10.1.4.1 検査のプロファイリング](#10141-%e6%a4%9c%e6%9f%bb%e3%81%ae%e3%83%97%e3%83%ad%e3%83%95%e3%82%a1%e3%82%a4%e3%83%aa%e3%83%b3%e3%82%b0)
	- [10.1.4.2 検査の対象](#10142-%e6%a4%9c%e6%9f%bb%e3%81%ae%e5%af%be%e8%b1%a1)
	- [10.1.4.3 検査のグループ分け](#10143-%e6%a4%9c%e6%9f%bb%e3%81%ae%e3%82%b0%e3%83%ab%e3%83%bc%e3%83%97%e5%88%86%e3%81%91)
		- [10.1.4.3.1 診断報告書.結果](#101431-%e8%a8%ba%e6%96%ad%e5%a0%b1%e5%91%8a%e6%9b%b8%e7%b5%90%e6%9e%9c)
		- [10.1.4.3.2 検査.要素](#101432-%e6%a4%9c%e6%9f%bb%e8%a6%81%e7%b4%a0)
		- [10.1.4.3.3 Observation.hasMember of and Observation.derivedFrom](#101433-observationhasmember-of-and-observationderivedfrom)
	- [10.1.4.4 Using codes in Observation](#10144-using-codes-in-observation)
		- [10.1.4.4.1 Multiple Codings](#101441-multiple-codings)
		- [10.1.4.4.2 Text values for coded results:](#101442-text-values-for-coded-results)
		- [10.1.4.4.3 Interoperability Issues using code value pairs in FHIR](#101443-interoperability-issues-using-code-value-pairs-in-fhir)
		- [10.1.4.4.4 Guidance:](#101444-guidance)
	- [10.1.4.5 Refining the interpretation of an Observation using additional codes or Observations](#10145-refining-the-interpretation-of-an-observation-using-additional-codes-or-observations)
	- [10.1.4.6 Value[x] and Datatypes](#10146-valuex-and-datatypes)
	- [10.1.4.7 Physiologically Relevant Time of the Observation](#10147-physiologically-relevant-time-of-the-observation)
	- [10.1.4.8 Reference Range](#10148-reference-range)
	- [10.1.4.9 Canceled or Aborted Observations](#10149-canceled-or-aborted-observations)
	- [10.1.4.10 Genetic Observations](#101410-genetic-observations)

-------
# 10.1.4 注釈:
## 10.1.4.1 検査のプロファイリング 
最も単純な場合、リソースインスタンスはコード、値、および状態フラグだけで構成できます。他のプロパティの関連性は、検査の種類によって異なります。プロファイルは、与えられた事例に対する特定の種類の検査を記録する際の指針を提供するために作成されます。検査リソースは、大多数のシステムで記録された詳細さの度合いに焦点を当てています。ただし、特定の事例では、特定の状況に関連する追加の制約と追加の情​​報がある場合があります。こうした複雑さを追加で取り込めるように、他のリソースと同様、拡張機能が利用できます。

## 10.1.4.2 検査の対象
通常、対象（患者もしくは患者グループ、場所、もしくは機器）に対して検査が行われ、その検査のために直接計測されたものと対象との間の区別は、検査コード（例えば、血糖）によって特定され、別々に表現する必要はありません。ただし、対象そのものでない場合、検査の焦点を表現するために3つの属性を使用できます。`specimen`(検体)および`bodySite`（検査対応部位）の要素は、対象のサンプルもしくは解剖学的・形態学的な位置の測定値の表現に利用され、患者に埋め込まれた機器や別の検査などの注意点に相当するような対象の特定の観点に焦点を当てて表現しています。

## 10.1.4.3 検査のグループ分け 
多くの検査は、他の検査と重要な関係性を持っているため、グループ化する必要があります。
例えば、構造は以下のように定義されます：診断報告書と`DiagnosticReport.result`（診断報告書.結果）。検査の要素については以下のように定義されます：`Observation.component`（検査.要素）、 `Observation.hasMember`（検査.メンバ有無）、`Observation.derivedFrom`（検査.派生元）。以下の節では、使用される構造に関しての指針について述べます。何をグループ化するのかという考え方は、しばしば文脈に高く依存しており、エンドユーザーの視点にも基づくため、使用する構造の選択は、権限や組織的な訓練、文脈などによって決めるべきです。通常、プロファイリングは実装に必要になるでしょう。

### 10.1.4.3.1 診断報告書.結果
診断報告書は順序（サービス要求）に直接関連しています。`DiagnosticReport.code`（診断報告書.コード）はパネルに名前を付け、グループ化要素として機能します。従来、これは臨床検査において"パネル"や"バッテリー"と呼ばれていたものです。`DiagnosticReport.result`（診断報告書.結果）の要素は、個々の検査を参照します。いくつかの例では、診断報告書を使った検査のグループ化をグループ化の構造として示しています。

### 10.1.4.3.2 検査.要素 
`Observation.component`（検査.要素）は、１要素の検査の範囲を超えて使われたり、合理的には解釈できないような結果をサポートするために使われます。
検査の要素は、個別かつ分けられた検査の一部分から構成されるか、`Observation.code`に対して適切な情報を提供します。また、`Observation.code`に関して唯一、理解を与えるものとなるでしょう（例えば、`$stats`操作を参照）。従って、正しく検査の意味を理解するためには、**すべての** コード値と要素.コード要素.値の組み合わせを考慮する必要があります。要素は、一つの手法、一つの検査、一人の検査実施者、一つの装置、および1回しかない場合のみ使用するべきです。この構造を使ったいくつかの事例は下記を含みます：

1. 一般的に生成され、一緒に解釈される検査。たとえば、収縮期および拡張期の血圧は、単一の血圧パネルとして表現。
2. 一般的に一緒に生成および解釈される評価ツールの結果。たとえば、5つの要素を持つ単一の検査である新生児のアプガー指数。
3. 質問に対する複数の回答の表現（検査と質問/回答の関係と境界）。たとえば、患者が飲んだアルコールの種類の報告。

一方で、別の検査の構成要素であるという文脈から外れた臨床的に関連する検査は、個別の検査リソースで表されるべきです。例えば、ボディマス指数（BMI）検査は、身長と体重は臨床的に関連した検査であるから、これらを要素に含むべきでは*ありません*。個別の検査リソースとして表現するべきです。どのように独立した検査を関連付けるか、後述する節を参照してください。

### 10.1.4.3.3 Observation.hasMember of and Observation.derivedFrom 
`Observation.hasMember` and `Observation.derivedFrom` and the core extensions: Observation-sequelTo  and Observation-replaces  are used for any supporting result that can be interpreted and used on its own and has one or more different values for method, observation, performer, device, time, and/or error conditions. Two common use cases for using this structure are:

1. For grouping related observations such as for a "panel" or "battery". In this case the `Observation.code` represents the "panel" code, typically `Observation.value[x]` is not present, and the set of member Observations are listed in `Observation.hasMember`. This structure permits nested grouping when used with DiagnosticReport (e.g. complex micro isolate and sensitivities report).
2. When linking to other Observations from which an Observation is derived. In this case both `Observation.code` and `Observation.value[x]` are present, and the linked observations are listed in `Observation.derivedFrom`. An example of this would be a Body Mass Index (BMI) Observation where the height and weight measurements are referenced.

## 10.1.4.4 Using codes in Observation 
When a result value is a represented as a predefined concept using a code, `valueCodeableConcept` is used. This element is bound to a value set comprised of a standard nomenclature such as SNOMED CT or a source system ("local") coded result values.

### 10.1.4.4.1 Multiple Codings 
Results may be coded in multiple value sets based on different code systems and these may be mapped using the ConceptMap resource and/or given as additional codings directly in the element as shown in the example below.

For example the LOINC 43304-5 *Chlamydia trachomatis rRNA [Presence] in Unspecified specimen by Probe and target amplification method* is typically associated with coded presence/absence concepts. Using the coded value for 'negative' with a standard code translation, `valueCodeableConcept` would be:

```
	"valueCodeableConcept": {
		"coding": [
			{
				"system": "http://snomed.info/sct",
				"code": "260385009",
				"display": "Negative"
			}, {
				"system": "https://acme.lab/resultcodes",
				"code": "NEG",
				"display": "Negative"
			}
		],
		"text": "Negative for Chlamydia Trachomatis rRNA"
	}
```

### 10.1.4.4.2 Text values for coded results: 
When the data element is usually coded or the type associated with the `code` element defines a coded value, use `valueCodeableConcept` even if there is no appropriate code and only free text is available. For example using text only, the `valueCodeableConcept` element would be:

```
	"valueCodeableConcept": {
		"text": "uncoded free text result"
	}
```
			
When a coded answer list includes a concept code for "other" and there is a free text description of the concept, the `valueCodeableConcept.text` element should be used to capture the full meaning of the source. In the example below, the answer code "Other" is provided in the `valueCodeableConcept` element and the text value supplied value in the `CodeableConcept.text` element.

```
{
	"resourceType": "Observation",
	... snip ...
	"code": {
		"coding": [
			{
				"system": "http://loinc.org",
				"code": "74076-1",
				"display": "Medication or substance involved"
			}
		]
	},
	.. snip ...
	"valueCodeableConcept": {
		"coding": [
			{
				"system": "http://loinc.org",
				"code": " LA20343-2",
				"display": "Other substance: PLEASE SPECIFY"
			}
		],
		"text": "Other: Blue pills I found under my couch"
	}
	.. snip ...
}
```

### 10.1.4.4.3 Interoperability Issues using code value pairs in FHIR 
A recurring issue for many observation events, regardless of the particular pattern, is determining how to populate observation.code and observation.value. While this is typically straight-forward for laboratory observations, it can get blurry for other types of observations, such as findings and disorders, family history observations, etc. This discussion focuses on the way in which the coded representation of such statements is expressed using the `Observation.code` and `Observation.value` elements.

There are two distinct facets that are central to a FHIR Observations:

- The action taken to make the finding and/or the property about which the property was observed. For example: measurement of blood hemoglobin.
- The result of the observation. For example: 14 g/dl.

Several different ways of representing the same information exist using different combinations of the `Observation.code` and `Observation.value`. Unconstrained use of the alternatives presents a major challenge for computation of semantic equivalence and for safe interpretation of observations originating from different applications and users. The following four patterns could reasonably represent the same case. Considering that the Observation resource needs to support many use cases, the appropriate place to define the specific pattern is expected to be done through profiles and implementation guides as specified by the jurisdictions and/or organizations implementing FHIR:

1. `Observation.code` represents the nature of the observation and the `Observation.value` a code represents the non-numeric result value. These are two distinct facets that are central to a FHIR Observations. For example:
   - code=[Examination]
   - value=[Abdomen tender]
2. `Observation.code` is nearly identical to 1) above, but the level of granularity is shifted from the value to code. For example:
   - code=[Abdominal examination]
   - value=[Tenderness]
3. The `Observation.code` is also expressed in a way that does not specify the observation action but indicates a statement about findings reduced to a single name (or term), as in the above item. In this example, the `Observation.value` is present and "qualifies" the finding typically confirming or refuting it. For example:
   - code=[Abdominal tenderness]
   - value=[found/true]
4. in this example the `Observation.code` is expressed in a way that does not specify the observation action but indicates a statement about findings reduced to a single name (or term). In this particular example in that context, the `Observation.value` is omitted. For example:
   - code=[Abdominal tenderness]
   - value element is omitted

### 10.1.4.4.4 Guidance: 
1. Recommended rules for case 1 and 2 patterns:
   - The Observation.code is preferably a LOINC  concept code.
     - If a SNOMED CT  concept code is used, the expression SHOULD represent a 363787002 (Observable entity(Observable entity)) or 386053000 (Evaluation procedure(evaluation procedure))
   - For non-numeric values, the Observation.value is preferably a SNOMED CT concept code.
2. Recommended rules for case 3 pattern:
    - The Observation.code is preferably a LOINC or SNOMED CT concept code.
        - If a SNOMED CT concept code is used, the expression SHOULD represent a 404684003 (Clinical finding (finding)) , 413350009 (Finding with explicit context(finding)), or 272379006 (Event(event)).
    - The Observation.value is represented by either
        - valueBoolean
        - valueCodeableConcept preferably using:
            - SNOMED CT where concept is-a 362981000 (Qualifier value (qualifier value))
            - v2 Yes/no Indicator
            - v2 Expanded Yes/no Indicator (unfortunately is missing 'not given')
3. Recommended rules for case 4 pattern:
    - The Observation.code is preferably a SNOMED CT concept code where the concept is-a 404684003 (Clinical finding (finding)) , 413350009 (Finding with explicit context(finding)), or 272379006 (Event(event)).
    - The Observation.value is omitted. The default interpretation is the concept (single code or expression) represented in Observation.code is present in the patient. An Observation.dataAbsentReason value of 'clinical-finding' SHOULD be used to indicate why the expected value is missing.
4. SHOULD NOT use the Assertion pattern as described in HL7 Version 3 Implementation Guide: TermInfo - Using SNOMED CT in CDA R2 Models, Release 1 . ( The code is 'ASSERTION' and the value is a SNOMED CT concept or expression )

## 10.1.4.5 Refining the interpretation of an Observation using additional codes or Observations 
The following list provides guidance on using codes or other observations to provide additional context that may alter how an observation is interpreted.:

1. If possible, use the most specific code you can

e.g.:

```
{
"resourceType": "Observation",
... snip ...
"code": {
	"coding": [
		{
			"system": "http://loinc.org",
			"code": "6689-4",
			"display": "Glucose [Mass/​volume] in Blood --2 hours post meal"
		}
	]
},
... snip ...
}
```

2. Alternatively, use additional codes in Observation.code as described above.

e.g.: Observation.code = coding-1: 59408-5 Oxygen saturation in Arterial blood by Pulse oximetry, coding-2: 20564-1 Oxygen saturation in Blood

```
{
"resourceType": "Observation",
... snip ...
"code": {
	"coding": [
		{
			"system": "http://loinc.org",
			"code": "59408-5",
			"display": "Oxygen saturation in Arterial blood by Pulse oximetry"
		},
		{
			"system": "http://loinc.org",
			"code": "20564-1",
			"display": "Oxygen saturation in Blood"
		}
	]
},
... snip ...
}
```

As described above, observations are typically grouped together to provide additional information needed for correctly understanding and interpreting the observation. As an alternative to grouping observations, extensions may be used to provide references to other observations needed for understanding and interpreting an observation.

Note:We are seeking input from the implementer community in evaluating existing Observation Extensions for this purpose
Feedback here .

## 10.1.4.6 Value[x] and Datatypes 
- The element, Observation.value[x], has a variable name depending on the type as follows:
  - valueQuantity
  - valueCodeableConcept
  - valueString
  - valueBoolean
  - valueInteger
  - valueRange
  - valueRatio
  - valueSampledData
  - valueTime
  - valueDateTime
  - valuePeriod

- See above section on Using codes for result values
- The Boolean data type is rarely used for `value[x]` because most observations result values are never truly Boolean due to exceptional values such as "unknown", therefore they should use the CodeableConcept data type instead and select codes from http://terminology.hl7.org/ValueSet/v2-0136  (these "yes/no" concepts can be mapped to the display name "true/false" or other mutually exclusive terms that may be needed")
- The special values "E" (error), "L" (below detection limit) and "U" (above detection limit) can be used are in the SampledData data type. However, when using valueQuantity in an observation for above and below detection limit values, valueQuantity should be used by stating the limit along with the comparator. In addition, when there is an error the dataAbsentReason element should be used with the appropriate value ('error' or 'NaN'). For example if the value was below the lower limit of detection of <2.0 mmol/L the `valueQuantity` would be:
```
	"valueQuantity": {
		"value": 2.0,
		"comparator": "<",
		"unit": "mmol/l",
		"system": "http://unitsofmeasure.org",
		"code": "mmol/L"
	}
```
If the value was "NaN" (i.e. an error) the `valueCodeableConcept` element would be absent and `dataAbsentReason` element would be:
```
	"dataAbsentReason": {
		"coding": [
			{
				"system": "http://terminology.hl7.org/CodeSystem/data-absent-reason",
				"code": "NaN",
				"display": "Not a Number"
			}
		]
	}
```
- Because there are multiple types allowed for the *value* element, multiple value search parameters are defined. There is no standard parameter for searching values of type Ratio

## 10.1.4.7 Physiologically Relevant Time of the Observation 
The effectiveDateTime or effectivePeriod is the time that the observation is most relevant as an observation of the subject. For a biological subject (e.g. a human patient), this is the physiologically relevant time of the observation. In the case of an observation using a specimen, this represents the start and end of the specimen collection (e.g. 24-hour Urine Sodium), but if the collection time is sufficiently short, this is reported as a point in time value (e.g. normal venipuncture). In the case of an observation obtained directly from a subject (e.g. BP, Chest X-ray), this is the start and end time of the observation process, which again, is often reported as a single point in time.

## 10.1.4.8 Reference Range 
Most common observations will only have one generic reference range. Reference ranges may be useful for laboratory tests and other measures like systolic blood pressure but will have little relevance for something like "pregnancy status". Systems MAY choose to restrict to only supplying the relevant reference range based on knowledge about the patient (e.g. specific to the patient's age, gender, weight and other factors), but this might not be possible or appropriate. Whenever more than one reference range is supplied, the differences between them SHOULD be provided in the reference range and/or age properties.

## 10.1.4.9 Canceled or Aborted Observations 
If a measurement or test could not be completed (for example if the specimen is unsatisfactory or the provider cancelled the order), then the status value should be updated to "cancelled" and the specific details given - preferably as coded values in the dataAbsentReason or valueCodeableConcept element. Additional information may be provided in the `note` element as well. The specimen reject example demonstrates this using a coded value for unsatisfactory specimen in dataAbsentReason.

## 10.1.4.10 Genetic Observations 
Genetic reporting makes heavy use of the DiagnosticReport and Observation resources. An implementation guide describing how to represent genetic results can be found here .

